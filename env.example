# ====================================
# Monitor de Orçamento Público Municipal
# Arquivo de Configuração de Ambiente
# ====================================

# Copie este arquivo para .env e preencha com seus valores
# cp env.example .env

# ====================================
# PORTAS DOS SERVIÇOS
# ====================================
# Portas expostas no host (localhost)
FRONTEND_PORT=4000
BACKEND_PORT=4001
CHROMADB_PORT=8001
REDIS_PORT=6379

# ====================================
# GOOGLE GEMINI API
# ====================================
# Obtenha sua chave em: https://ai.google.dev/
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-pro

# ====================================
# BANCO DE DADOS
# ====================================
# SQLite (desenvolvimento)
DATABASE_URL=sqlite:///data/app.db

# PostgreSQL (produção) - descomente quando migrar
# DATABASE_URL=postgresql://user:password@postgres:5432/monitor_orcamento

# ====================================
# CHROMADB
# ====================================
CHROMADB_HOST=chromadb
CHROMADB_PORT=8000  # Porta interna do container
CHROMADB_PERSIST_DIRECTORY=/chroma/chroma

# ====================================
# REDIS
# ====================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # Deixe vazio para sem senha (dev)

# ====================================
# PORTAL DA TRANSPARÊNCIA
# ====================================
# API CKAN do Portal de Fortaleza
PORTAL_BASE_URL=https://dados.fortaleza.ce.gov.br
PORTAL_API_VERSION=3
PORTAL_TIMEOUT=30  # Timeout em segundos
PORTAL_MAX_RETRIES=3

# ====================================
# CONFIGURAÇÕES DE UPLOAD
# ====================================
# Tamanho máximo de arquivo em MB
MAX_UPLOAD_SIZE_MB=50

# Formatos aceitos
ALLOWED_EXTENSIONS=.pdf

# Diretório de upload (dentro do container)
UPLOAD_DIR=/app/data/uploads

# ====================================
# CONFIGURAÇÕES DE PROCESSAMENTO
# ====================================
# Tamanho dos chunks para vetorização (em caracteres)
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Batch size para processamento
BATCH_SIZE=10

# ====================================
# CELERY (Tarefas Assíncronas)
# ====================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ====================================
# SEGURANÇA
# ====================================
# Chave secreta para JWT (gere uma aleatória)
SECRET_KEY=change-this-to-a-random-secret-key-in-production

# Origem permitida para CORS (frontend)
CORS_ORIGINS=http://localhost:4000,http://127.0.0.1:4000

# ====================================
# AMBIENTE
# ====================================
# Ambiente: development, staging, production
ENVIRONMENT=development

# Debug mode (somente em desenvolvimento)
DEBUG=true

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ====================================
# CACHE
# ====================================
# Tempo de cache em segundos
CACHE_TTL_PACKAGES=3600  # 1 hora para lista de packages
CACHE_TTL_RESPONSES=600   # 10 minutos para respostas do chat

# ====================================
# RATE LIMITING
# ====================================
# Máximo de requisições por minuto por usuário
RATE_LIMIT_PER_MINUTE=10

# ====================================
# FRONTEND (React)
# ====================================
# URL da API backend (acessível do navegador)
VITE_API_URL=http://localhost:4001
VITE_APP_NAME=Monitor de Orçamento Público
VITE_APP_VERSION=1.0.0

# ====================================
# OBSERVABILIDADE (Opcional - Fase 9)
# ====================================
# Sentry para monitoramento de erros
# SENTRY_DSN=

# ====================================
# DADOS PADRÃO (Opcional)
# ====================================
# Município padrão na primeira execução
DEFAULT_MUNICIPALITY=Fortaleza
DEFAULT_STATE=CE
DEFAULT_YEAR=2023

# ====================================
# NOTAS IMPORTANTES
# ====================================
# 1. NUNCA commite o arquivo .env no Git
# 2. Adicione .env no .gitignore
# 3. Mantenha env.example atualizado
# 4. Use valores diferentes em produção
# 5. Gere chaves secretas fortes: 
#    python -c "import secrets; print(secrets.token_urlsafe(32))"

